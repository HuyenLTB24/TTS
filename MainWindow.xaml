<Window x:Class="TTS.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TTS Subtitle Converter" Height="600" Width="900"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Menu/File Selection -->
        <GroupBox Grid.Row="0" Header="File Selection" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal" Margin="5">
                <Button Name="BtnOpenSrt" Content="Open SRT File" Width="120" Height="30" Margin="0,0,10,0" Click="BtnOpenSrt_Click"/>
                <TextBlock Name="TxtFileName" Text="No file selected" VerticalAlignment="Center" FontStyle="Italic"/>
            </StackPanel>
        </GroupBox>
        
        <!-- Voice Selection -->
        <GroupBox Grid.Row="1" Header="Voice Settings" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal" Margin="5">
                <Label Content="Select Voice:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox Name="CmbVoices" Width="200" Height="25">
                    <ComboBoxItem Content="ja-JP-NanamiNeural" IsSelected="True"/>
                    <ComboBoxItem Content="ja-JP-KeitaNeural"/>
                    <ComboBoxItem Content="vi-VN-HoaiMyNeural"/>
                    <ComboBoxItem Content="en-US-JennyNeural"/>
                    <ComboBoxItem Content="en-US-DavisNeural"/>
                    <ComboBoxItem Content="ko-KR-SunHiNeural"/>
                    <ComboBoxItem Content="zh-CN-XiaoxiaoNeural"/>
                </ComboBox>
                <Button Name="BtnCheckServer" Content="Check Server Status" Width="140" Height="30" Margin="20,0,0,0" Click="BtnCheckServer_Click"/>
                <TextBlock Name="TxtServerStatus" Text="Unknown" VerticalAlignment="Center" Margin="10,0,0,0" FontWeight="Bold"/>
            </StackPanel>
        </GroupBox>
        
        <!-- Subtitle Display -->
        <GroupBox Grid.Row="2" Header="Subtitles" Margin="0,0,0,10">
            <DataGrid Name="DgSubtitles" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False" Margin="5">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Index" Binding="{Binding Index}" Width="60" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Time" Binding="{Binding TimeRange}" Width="200" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Text" Binding="{Binding Text}" Width="*" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100" IsReadOnly="True"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>
        
        <!-- Processing Controls -->
        <GroupBox Grid.Row="3" Header="Processing" Margin="0,0,0,10">
            <StackPanel Margin="5">
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <Button Name="BtnConvert" Content="Convert to Speech" Width="150" Height="35" Margin="0,0,10,0" Click="BtnConvert_Click"/>
                    <Button Name="BtnStop" Content="Stop" Width="80" Height="35" Margin="0,0,10,0" Click="BtnStop_Click" IsEnabled="False"/>
                    <CheckBox Name="ChkMergeAudio" Content="Merge into single file (timeline-aligned)" VerticalAlignment="Center" IsChecked="True"/>
                </StackPanel>
                <ProgressBar Name="ProgressMain" Height="20" Margin="0,5,0,0"/>
                <TextBlock Name="TxtProgress" Text="Ready" Margin="0,5,0,0" FontSize="12"/>
            </StackPanel>
        </GroupBox>
        
        <!-- Output Controls -->
        <GroupBox Grid.Row="4" Header="Output" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal" Margin="5">
                <Button Name="BtnSaveOutput" Content="Save Output" Width="120" Height="30" Margin="0,0,10,0" Click="BtnSaveOutput_Click" IsEnabled="False"/>
                <ComboBox Name="CmbOutputFormat" Width="80" Height="25" Margin="0,0,10,0">
                    <ComboBoxItem Content="MP3" IsSelected="True"/>
                    <ComboBoxItem Content="WAV"/>
                </ComboBox>
                <TextBlock Name="TxtOutputPath" Text="No output file selected" VerticalAlignment="Center" FontStyle="Italic"/>
            </StackPanel>
        </GroupBox>
        
        <!-- Status Bar -->
        <StatusBar Grid.Row="5">
            <StatusBarItem>
                <TextBlock Name="TxtStatusBar" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>